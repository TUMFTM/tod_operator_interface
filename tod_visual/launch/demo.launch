<?xml version="1.0"?>
<launch>

<arg name="vehicleID" default="lgsvl"/>

<include file="$(find tod_transform)/launch/tod_transform.launch">
    <arg name="isVehicle" value="false"/>
    <arg name="isOperator" value="true"/>
    <arg name="vehicleID" value="$(arg vehicleID)"/>
</include>

<group ns="/Operator/Visual">
    <node pkg="tod_visual" name="tod_visual" type="Interface" output="screen"
        launch-prefix="bash -c 'sleep 1.0; $0 $@' ">
        <rosparam command="load" file="$(find tod_vehicle_config)/vehicle_config/$(arg vehicleID)/sensors-camera.yaml" />
        <rosparam command="load" file="$(find tod_vehicle_config)/vehicle_config/$(arg vehicleID)/vehicle-params.yaml" />
        <param name="vehicleID" value="$(arg vehicleID)"/>
        <param name="debug" value="false"/>
        <remap from="primary_control_cmd" to="/Operator/CommandCreation/primary_control_cmd"/>
        <remap from="secondary_control_cmd" to="/Operator/CommandCreation/secondary_control_cmd"/>
    </node>
</group>

<node pkg="rosbag" type="play" name="player" launch-prefix="bash -c 'sleep 5.0; $0 $@'"
    args="-l -r 1.0
    /home/$(env USER)/Documents/ToD_Playback/$(arg vehicleID)-for-visual.bag"/>

</launch>
